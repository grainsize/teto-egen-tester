import streamlit as st

# ì§ˆë¬¸ ëª©ë¡
teto_questions = [
    "ë‚˜ëŠ” ê°ì •ì„ ë“œëŸ¬ë‚´ê¸°ë³´ë‹¤ ì†ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” í¸ì´ë‹¤.",
    "ë…¼ìŸì—ì„œëŠ” ìƒëŒ€ë¥¼ ì´ê¸°ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤.",
    "ì¼ì„ í•  ë•Œ ëˆ„ê°€ ë” ì˜í•˜ë‚˜ ê²½ìŸì‹¬ì´ ìƒê¸´ë‹¤.",
    "ë‚˜ëŠ” ìœ„ë¡œë³´ë‹¤ëŠ” í•´ê²°ì±…ì„ ì£¼ëŠ” ìª½ì´ë‹¤.",
    "ë¦¬ë”ê°€ ë˜ëŠ” ìë¦¬ë¥¼ ë¶€ë‹´ìŠ¤ëŸ½ê²Œ ëŠë¼ì§€ ì•ŠëŠ”ë‹¤.",
    "ê°ì •ì— íœ˜ë‘˜ë¦¬ëŠ” ì‚¬ëŒì„ ë³´ë©´ ë¶ˆí¸í•˜ë‹¤.",
    "ì¡°ì§ ë‚´ì—ì„œ ì„œì—´ê³¼ ë£°ì´ ëª…í™•í•´ì•¼ í¸í•˜ë‹¤.",
    "ê´€ê³„ë³´ë‹¤ ë‚˜ ìì‹ ì„ ë¨¼ì € ì±™ê²¨ì•¼ í•œë‹¤ê³  ìƒê°í•œë‹¤."
]

egen_questions = [
    "ìƒëŒ€ì˜ ë§ë³´ë‹¤ í‘œì •ì´ë‚˜ ë¶„ìœ„ê¸°ë¥¼ ë¨¼ì € ì½ëŠ”ë‹¤.",
    "ì¹œêµ¬ê°€ ìš¸ë©´ ë‚˜ë„ ëˆˆë¬¼ì´ í•‘ ëˆ ì ì´ ìˆë‹¤.",
    "ëˆ„êµ°ê°€ ë‹¤ì³¤ì„ ë•Œ ë¨¼ì € ê°ì •ì ìœ¼ë¡œ ë°˜ì‘í•œë‹¤.",
    "ê°ì •ì ìœ¼ë¡œ í˜ë“  ì‚¬ëŒì—ê²Œ ì˜¤ë˜ ê³µê°í•´ì¤„ ìˆ˜ ìˆë‹¤.",
    "ë‚´ ê¸°ë¶„ì€ ì£¼ë³€ ì‚¬ëŒì˜ ë¶„ìœ„ê¸°ì— ë”°ë¼ ì˜ ë³€í•œë‹¤.",
    "ì£¼ë³€ ì‚¬ëŒê³¼ ê°ˆë“±ì´ ìƒê¸°ë©´ ë¨¼ì € í™”í•´ë¥¼ ì‹œë„í•œë‹¤.",
    "ê°ì • í‘œí˜„ì„ ì†”ì§í•˜ê²Œ í•˜ëŠ” ê²Œ ì˜¤íˆë ¤ ê´€ê³„ë¥¼ ì¢‹ê²Œ ë§Œë“ ë‹¤."
]

options = ["ë§¤ìš° ê·¸ë ‡ë‹¤", "ê·¸ë ‡ë‹¤", "ì•„ë‹ˆë‹¤", "ì „í˜€ ì•„ë‹ˆë‹¤"]
score_map = {"ë§¤ìš° ê·¸ë ‡ë‹¤": 3, "ê·¸ë ‡ë‹¤": 2, "ì•„ë‹ˆë‹¤": 1, "ì „í˜€ ì•„ë‹ˆë‹¤": 0}

def calculate_result(gender, teto_score, egen_score):
    teto_percent = (teto_score / 16) * 100
    egen_percent = (egen_score / 14) * 100

    if gender == "ë‚¨ì„±":
        if teto_percent >= 70:
            return "í…Œí† ë‚¨", teto_percent, egen_percent
        elif egen_percent >= 70:
            return "ì—ê²ë‚¨", teto_percent, egen_percent
    elif gender == "ì—¬ì„±":
        if teto_percent >= 70:
            return "í…Œí† ë…€", teto_percent, egen_percent
        elif egen_percent >= 70:
            return "ì—ê²ë…€", teto_percent, egen_percent

    return "í˜¼í•©í˜•", teto_percent, egen_percent

# Streamlit ì•± ì‹œì‘
st.title("ğŸ§  í…Œí† ë‚¨/ì—ê²ë‚¨ ì„±í–¥ í…ŒìŠ¤íŠ¸")

gender = st.radio("ë‹¹ì‹ ì˜ ì„±ë³„ì€?", ["ë‚¨ì„±", "ì—¬ì„±"])

st.subheader("ğŸ”· í…ŒìŠ¤í† ìŠ¤í…Œë¡  ì„±í–¥ ì§ˆë¬¸")
teto_score = 0
for i, q in enumerate(teto_questions):
    answer = st.radio(q, options, key=f"teto_{i}")
    teto_score += score_map[answer]

st.subheader("ğŸ”¶ ì—ìŠ¤íŠ¸ë¡œê² ì„±í–¥ ì§ˆë¬¸")
egen_score = 0
for i, q in enumerate(egen_questions):
    answer = st.radio(q, options, key=f"egen_{i}")
    egen_score += score_map[answer]

if st.button("ê²°ê³¼ ë³´ê¸°"):
    result_type, teto_percent, egen_percent = calculate_result(gender, teto_score, egen_score)

    st.markdown("---")
    st.header(f"âœ… ë‹¹ì‹ ì€ '{result_type}'ì…ë‹ˆë‹¤.")
    st.write(f"í…Œí†  ì„±í–¥ ì ìˆ˜: {teto_score} / 16 â†’ {teto_percent:.1f}%")
    st.write(f"ì—ê² ì„±í–¥ ì ìˆ˜: {egen_score} / 14 â†’ {egen_percent:.1f}%")

    descriptions = {
        "í…Œí† ë‚¨": "ë…¼ë¦¬ì ì´ê³  ëª©í‘œ ì§€í–¥ì ì¸ ë‚¨ì„± ì„±í–¥. ê²½ìŸ, ì´ì„±, êµ¬ì¡°ë¥¼ ì¤‘ì‹œí•©ë‹ˆë‹¤.",
        "ì—ê²ë‚¨": "ê°ì„±ì ì´ê³  ê³µê°ë ¥ì´ ë›°ì–´ë‚œ ë‚¨ì„± ì„±í–¥. ê´€ê³„ì™€ ê°ì • í‘œí˜„ì— ëŠ¥í•©ë‹ˆë‹¤.",
        "í…Œí† ë…€": "ì´ì„±ì ì´ê³  ì£¼ë„ì ì¸ ì—¬ì„± ì„±í–¥. ê³„íšê³¼ íš¨ìœ¨ì„ ì„ í˜¸í•©ë‹ˆë‹¤.",
        "ì—ê²ë…€": "ê°ì„±ì ì´ê³  ë°°ë ¤ì‹¬ ê¹Šì€ ì—¬ì„± ì„±í–¥. ê°ì • ì¤‘ì‹¬ì˜ ì†Œí†µì„ ì¤‘ì‹œí•©ë‹ˆë‹¤.",
        "í˜¼í•©í˜•": "ì´ì„±ê³¼ ê°ì„±ì˜ ê· í˜•ì„ ì˜ ë§ì¶”ëŠ” ì„±í–¥ì…ë‹ˆë‹¤. ìƒí™©ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ë°˜ì‘í•©ë‹ˆë‹¤."
    }

    st.success(descriptions[result_type])
